\rhead{15 November 2017}

\begin{defi}
	We call two ideals $0 \neq I, J \subset \O$ \textbf{coprime} $:\Leftrightarrow I + J = \O$. For example, one could take two distinct prime ideals in a Dedekind ring.
\end{defi}

\begin{Bem}
	Let $P_1, \dots, P_n \subset \O$ be pairwise coprime.
	Then $P_1$ and $P_2 \cdots P_n$ are coprime and we have $\prod_{i=1}^n P_i = \bigcap_{i=1}^n P_i.$
\end{Bem}
\begin{proof}
	Induction on n: The case $n = 2$ is clear.	
	Let $n > 2$.
	Since $P_1$ and $P_2$ are coprime, $\exists p_1 \in P_1$, $p_2 \in P_2$, such that we can write $1 = p_1 + p_2$.
	By induction hypothesis, $\exists p_1' \in P_1$, $p \in P_3 \cdots P_n$, such that $1 = p_1' + p$.
	 It follows
		
	\[ 1 = p_1 + p_2 \cdot (p_1'+p)	= \underbrace{p_1+p_2p_1'}_{\in P_1} + \underbrace{p_2p}_{\in P_2 \cdots P_n}, \]
		
	which yields the first claim.
	
	\bigskip
	
	For the second claim, first note that $\prod P_i \subset \bigcap P_i$ is clear.
	
	For the converse, let $a \in \bigcap P_i$, which of course implies that $a \in P_i$ for all $i$.
	As above, we write $1 = p_1 + p$,  $p_1 \in P_1$, $p \in P_2 \cdots P_n$.
	We get  $a = ap_1 + ap$, which implies that $a \in P_iP_n$ and by induction hypothesis, we get $a \in \prod P_i$.
\end{proof}
	
\begin{Satz}[Chinese Remainder Theorem]
	Let $P_1, \dots, P_n \subset \O$ bet pairwise coprime ideals, $I = \bigcap_{i=1}^n P_i$.
	Then we have
	
	\[ \O / I \cong \bigoplus_{i=1}^n \O / P_i	\] 
\end{Satz}
\begin{proof}
	Consider the map 
		
	\[ \phi: \O \longrightarrow \bigoplus_i \O /P_i, \quad  a \mapsto \bigoplus_i a \mod P_i. \] 
		
	Obviously, $\ker(\phi) = I$.
	It remains to show, that $\phi$ is surjective.
	Let first $n = 2$:	
	For $p_1 \in P_1$, $p_2 \in P_2$ let $1 = p_1 + p_2$ and for any $a_1$, $a_2 \in \O$ write $a = a_2p_1 + a_1p_2$. Then $\phi(a) = a_1 \oplus a_2 \in \O / P_1 \oplus \O / P_2$.
	
	\bigskip
	
	In general, by \textbf{3.8}, we know that $\exists y_i \in \O$ with $y_i \equiv 1 \mod P_i$ and $y_i \equiv 0 \mod \bigcap_{j \neq i}P_i$. Hence the element $a = \sum_{i = 1}^n a_iy_i$ is mapped to $\bigoplus_{i=1}^n a_i \mod P_i$	
\end{proof}

\begin{defi}
	A \textbf{fractional ideal} of $K$ is a finitely generated $\O$-module $0 \neq I$ of $K$.
	Since $\O$ is noetherian, this is equivalent to: $\exists c \in \O$, such that $c \cdot I \subset \O$ is an ideal (since every submodule of $\O$ is finitely generated).
	The product of two fractional ideals is denoted in the same way as introduced in \textbf{3.3}.
	Ideals in $\O$ are called \textbf{integral ideals}.
\end{defi}

\begin{Satz}
	The fractional ideals of K, together with the product, form an abelian group, which we denote by $\J_K$.
\end{Satz}
\begin{proof}
	Commutativity and associativity are clear.
	The unit in $\J_K$ is given by $\O$.
	We define $I^{-1} := \set{x \in K}{x \cdot I \subset K}$ and show, that this defines an inverse for all $I \in \J_K$.
	
	\bigskip
		
	For a prime ideal $P \subset \O$, we have already seen in \textbf{3.4} that $P^{-1}P = \O$ and for an integral ideal $I = P_1 \cdots P_n$, we have $J = P_1^{-1} \cdots P_n^{-1}$ as an inverse:
	
	\bigskip
		
	$J \subset I^{-1}$ is clear.
	For the converse, let $x \in I^{-1}$, we then have $x \cdot IJ\subset \O$, with $x \cdot I \subset \O$ and $IJ = \O$, therefore $x \cdot 1 \in J$ and $I^{-1} \subset J$ follows.
		
	Let now $I$ be fractional. Then $\exists c \in \O$, such that $cI$ is integral.
	But then $(cI)^{-1} = c^{-1}I^{-1}$ and hence $II^{-1} = (cI)(c^{-1}I^{-1}) = \O$
\end{proof}

\begin{Kor}
	Every fractional ideal $I$ has a unique factorization $I = \prod P_i^{n_i}$, with $n_i \in \Z$, $P_i \subset \O$ distinct prime ideals and only finitely many $n_i \neq 0$. In particular, $\J_K$ is a free abelian group on the prime ideals of $\O$.
\end{Kor}
\begin{proof}
	By \textbf{3.11}, every element $I \in \J_K$ can be written as $I = AB^{-1}$ for some integral ideals $A, B \subset \O$. Therefore, by \textbf{3.4}, we get $I = \prod P_i^{n_i}$ and by multiplying denominators, we see that this presentation is unique.
\end{proof}

\begin{defi}
	The principle ideals generate a subgroup $\PP_K$ of $\J_K$. We call the quotient group $\Cl_K := \J_K / \PP_K$ the \textbf{ideal class group}. We have an exact sequence of groups
	
	\[ 1 \longrightarrow \O^\times \longrightarrow K^\times \overset{a \mapsto a\O}{\longrightarrow} \J_K \longrightarrow \Cl_K \longrightarrow 1. \]
\end{defi}

\section{Lattices and Minkowski}

\begin{defi}
	Let $V$ be an $n$-dimensional $\R$-vector space.
	A \textbf{lattice} $\Lambda \subset V$ is a subgroup of the form $\Z v_1 + \dots \Z v_m$, where $v_1, \dots, v_m$ are linearly independent over $V$. We call $(v_1, \dots, v_m)$ a \textbf{basis} of $\Lambda$ and $\phi := \set{x_1v_1 + \dots x_mv_m}{x_i \in \left[ 0,1 \right )}$ a \textbf{fundamental domain} of $\Lambda$. We call $\Lambda$ \textbf{complete}, if $n = m$.
	
	\bigskip
	
	\textbf{CAUTION:} For many people, lattices are always complete!
\end{defi}

\begin{Bsp}
	\begin{enumerate}[(a)]
		\item $\Z \begin{pmatrix} 1 \\ 0 \end{pmatrix} + \Z  \begin{pmatrix} 0 \\ 1 \end{pmatrix} \subset \R^2$ is a complete lattice
		
		\item $\Z + \Z \sqrt{2} \subset \R$ is not a lattice, since $1$ and $\sqrt{2}$ are not linearly independent.
		
		\item $\Z \begin{pmatrix} \sqrt{2} \\ 1 \end{pmatrix} \subset \R^2$ is a non-complete lattice.
	\end{enumerate}
\end{Bsp}

\begin{Prop}
	A subgroup $\Lambda \subset V$ is a lattice $\Leftrightarrow \Lambda$ is a discrete subgroup of $V$.
\end{Prop}
\begin{proof}
	"$\Rightarrow$": Take $\set{\lambda + x_1v_1 + \dots + x_nv_n + \text{rest of basis} }{|x_n| < 1}$ as a neighbourhood for $\lambda \in \Lambda$.
	
	"$\Leftarrow$": Let $V_0 = \left< \Lambda \right>_\R$. Then we can choose a basis $v_1, \dots, v_m$ of $V_0$ in $\Lambda$, such that $\Lambda_0 := \Z v_1 + \dots + \Z v_m$ is a lattice in $V_0$.
	
	\bigskip
	
	\textbf{Claim:} The index $\left[ \Lambda : \Lambda_0 \right]$ is finite.
	
	\textbf{Proof of the claim:} Since $\Lambda_0$ is complete, $V = \bigsqcup_{\lambda \in \Lambda_0} \phi_0 + \lambda$. Since $\Lambda$ is discrete and $\phi_0$ bounded, $\Lambda \cap \phi_0$ is finite. Hence we have only finitely many residue classes $\lambda + \Lambda_0$ of $\Lambda$ and therefore $\left[ \Lambda : \Lambda_0 \right] =: d < \infty$.
	
	\bigskip
	
	From this follows, that $\Lambda \subset \frac{1}{d}\Lambda_0 = \Z (\frac{1}{d} v_1) + \dots + \Z (\frac{1}{d} v_m)$. Therefore, $\Lambda$ has a $\Z$-basis $w_1 = v_1n_1, \dots, w_r = v_rn_r$ for some $n_i \in \frac{1}{d} \N$ and since $\Lambda$ spans $V_0$, we get $r = m$ and they are linearly independent.
\end{proof}






