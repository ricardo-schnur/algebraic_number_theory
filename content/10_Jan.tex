\rhead{10. January 2018}

\begin{Prop}[\enquote{First Case}]
	Suppose $p$ is a regular prime with $p \geq 5$ such that 
	$x^p +y^p = z^p$ and $p \not | \, xyz$ with $x,y,z \in \Z$.
	Then $xyz = 0$.
\end{Prop}

\begin{proof}
	Without loss of generality we may assume that $x,y,z$ are coprime. Proceed as in the proof of Theorem 1:
	\begin{itemize}
		\item $z^p = x^p + y^p = (x+y)(x+\zeta y) \cdots \left( x+ \zeta^{p-1}y \right)$
		\item Since $p\not | \, z$ we have 
				$x+y \equiv x^p + y^p = z^p \equiv z \not \equiv 0 \mod p$
				by little Fermat's theorem such that $p \not | \, x+y$.
		\item Lemma 2.11 implies that $(x+y),(x+\zeta y), \dots, \left( x+ 
				\zeta^{p-1}y \right)$ are pairwise coprime such that the first bullet point together with the regularity of $p$ and Remark 1.2 yields
				$ \left( x+ \zeta^i y \right)= \left( \alpha_i \right)^p$ for some $\alpha_i \in \O$\todo{IJ principal implies I, J principal}. Thus $x+ \zeta^i y = \varepsilon_i  \alpha_i^p$ with
				$\varepsilon_i \in \O^\times$.
	\end{itemize}
	Now continue as in the proof of Theorem 1. \todo{huh?}
\end{proof}

\begin{recall*}[Example 1.2.8]
	If $\alpha \in \O$ then $\alpha = a_0 + a_1 \zeta + \cdots + a_{p-2} \zeta^{p-2}$ such that
	\[ \alpha^p \equiv \underbrace{a_0^p + a_1^p + \cdots + a_{p-2} ^p}_{= a \in \Z} \mod p.
	\]
\end{recall*}

\begin{Lem}[Kummer's Lemma II]
	Suppose $p$ is a regular prime. If $u \in\O^\times$ such that $u\equiv a \mod p$ for some $a \in \Z$ then there is an $\alpha \in\O^\times$ such that $u = \alpha^p$.
\end{Lem}

The proof is hard and needs more theory.


\begin{Bem}
	$1, 1- \zeta, \dots, (1-\zeta)^{p-2}$ is an integral basis of $\O=\Z[\zeta]$.
\end{Bem}

\begin{proof}
	$1,  \zeta, \dots, \zeta^{p-2}$ is an integral basis by Proposition 2.10.4. Furthermore,
	\[ \zeta^i = \left(1-  (1-\zeta)\right)^i
	=\sum_{k=0}^{i} \binom{k}{i} (-1)^{i-k} (1-\zeta)^{i-k}
	\]
	and $1-\zeta$ has minimal polynomial of degree lesser equal than $p-1$.
\end{proof}

\begin{Lem} If $\alpha \in \O \bs \left(1-\zeta\right)$ then there exist $a \in \Z$
	and $l \in \N_0$ such that
	\[ \zeta^l \alpha \equiv a \mod (1-\zeta)^2.
	\]
\end{Lem}


\begin{proof} We do the proof in multiple steps:
	\begin{enumerate}[(1)]
		\item Since $1, 1- \zeta, \dots, (1-\zeta)^{p-2}$ is an integral basis 
				of $\O$ we have
				\[ \alpha \equiv a_0 1 + a_1 (1-\zeta) \mod (1-\zeta)^2
				\]
				with $a_0, a_1 \in \Z$.
		\item Since $1-\zeta \not | \, \alpha $ we have $1-\zeta \not | \, a_0 $
				such that $p \not | \, a_0$ and hence there is $l \in\Z$ with
				$a_0 l \equiv a_1 \mod p$.
		\item Since $\zeta = 1-(1-\zeta)$ we have
				\[ \zeta^l \equiv 1- l(1-\zeta) \mod (1-\zeta)^2.
				\]
		\item By (1), (2) and (3) we conclude
				\begin{align*}
				\zeta^l \alpha
				&\equiv \left( 1-l(1-\zeta) \right) \left( a_0 + a_1(1-\zeta) \right)\\
				&\equiv a_0 + \left(a_1 -l a_0  \right) (1-\zeta)\\
				&\equiv a_0 \mod (1-\zeta)^2.
				\end{align*}
	\end{enumerate}
\end{proof}


\begin{Prop}[\enquote{Second case}]
	Suppose $p$ is a regular prime with $p \geq 5$ such that 
	$x^p +y^p = z^p$ and $p  | \, xyz$ with $x,y,z \in \Z$.
	Then $xyz = 0$.
\end{Prop}


\begin{proof}
	Without loss of generality $x,y,z$ are pairwise coprime.
	By changing the role of $x,y$ and $z$ and possibly replacing $x$ by $-x$, $y$ by $-y$ and $z$ by $-z$ we can furthermore assume that $p | z$, $p \not | \, x$
	and $p \not | \, y$. 
	Then, by 2.10.1,
	\[ z = p^m z_0 = \varepsilon \left(1-\zeta\right)^{(p-1)m} z_0
	\]  
	with $z_0 \in \Z, m \geq 1$, $\gcd(z_0,p)=1$ and $\varepsilon \in \O^\times$
	such that
	\[ x^p+y^p = \varepsilon^p \left(1-\zeta\right)^{(p-1)mp} z_0^p .
	\]
	By assumption:
	\begin{itemize}
		\item $x,y$ and $z_0$ are pairwise coprime since $x,y$ and $z$ are pairwise coprime.
		\item $1-\zeta$ and $z_0$ are coprime since $p$ and $z$ are coprime.
		\item $x$ and $1-\zeta$ are coprime since $p \not | \, x$. The same holds for $y$ and $1-\zeta$ .
	\end{itemize}
	Hence the following Lemma 1.9 yields $xyz_0 = 0$ such that $xyz = 0$ as claimed.
\end{proof}
 
\begin{Lem}
	Suppose $p$ is a regular prime with $p \geq 5$, $x,y,z_0 \in\O$, $\varepsilon \in \O^\times$ and $x,y,z_0, 1-\zeta $ are pairwise coprime.
	If $x^p + y^p = \varepsilon (1-\zeta)^{kp} z_0^p$
	with $k \in \N$, then $xyz_0 = 0$.
\end{Lem}


\begin{proof}
	Assume that there are $x,y,z_0$ as in the lemma with $xyz_0 \neq 0$.
	We may assume that $k$ is minimal.
	
	\bigskip \textbf{\enquote{Step 1:}}
	Show that $(1-\zeta)^2 | x+y$.
	
	\begin{enumerate}[(1)]
		\item By assumption we have
		\begin{align}
		\varepsilon (1-\zeta)^{kp} z_0^p
		= (x+y)(x+\zeta y) \cdots \left( x+\zeta^{p-1} y \right) \tag{$*$}
		\end{align}
		such that, since $1-\zeta$ is prime, there is $i \in \{ 0, \dots, p-1 \}$ with
		$1-\zeta | x+ \zeta^i y$.
		Hence $1-\zeta$ divides all $x+ \zeta^i y$ by Lemma 1.3, in particular $x+y$.
		\item By Lemma 1.7 there are $a,b \in \Z$ and $l,j \in\N_0$ such that
		\[ \zeta^l x \equiv a \mod (1-\zeta) ^2
		\qquad \text{and} \qquad
		\zeta^j y \equiv b \mod (1-\zeta) ^2.
		\]
		\item We may replace $x$ by $x\zeta^l$ and $y$ by $y\zeta^j$ and thus can assume that $x\equiv a, y \equiv b \mod (1-\zeta) ^2$ with $a,b\in \Z$.
		\item $1-\zeta | x+y$ implies $1-\zeta | a+b$ such that $(1-\zeta) ^{p-1} | a+b$ (since $a+b \in \Z$ we have also $p | a+b$) and hence $(1-\zeta)^2 | x+y$. In particular, $k \geq 2$.
	\end{enumerate}
	
	\bigskip \textbf{\enquote{Step 2:}}
	Show that $(1-\zeta)^{(k-1)p+1} | x+y$.
	
	Since the quotients $\frac{x+\zeta^i y}{1-\zeta}$ are pairwise coprime, all \enquote{extra powers} of $1-\zeta$ have to divide $x+y$. Thus,
	\[(1-\zeta)^{kp-(p-1)} | x+y.
	\]
	Furthermore: 
	\[ 1- \zeta \not | \, \frac{x+y}{(1-\zeta)^{kp-(p-1)}}
	\]
	
	\bigskip \textbf{\enquote{Step 3:}}
	Show that $\frac{x+\zeta^i y}{1-\zeta}$ is associated to a $p$-power.
	
	From ($*$) we obtain
	\[ \left( (1-\zeta)^{k-1} z_0 \right)^p
	= \prod_{i=0}^{p-1} \left( \frac{x+\zeta^i y}{1-\zeta} \right).
	\]
	Since the ideals on the right side are pairwise coprime, $ \left( \frac{x+\zeta^i y}{1-\zeta} \right)$ is a $p$-th power. Thus Remark 1.2 yields
	\[ \frac{x+\zeta^i y}{1-\zeta} = \varepsilon_i \alpha_i^p
	\]
	with $\alpha_i \in \O$ and $\varepsilon \in\O^\times$. Furthermore, the $\alpha_i$ are pairwise coprime.
	
	\bigskip \textbf{\enquote{Step 4:}}
	Find $\varepsilon', \eta \in \O^\times$ and $\beta\in\O$ with 
	$\varepsilon' (1-\zeta)^{(k-1)p} \beta^p = -\alpha_1^p + \eta \alpha_{-1}^p$.
	
	By Step 2, $(1-\zeta)^{k-1}$ divides $\alpha_0$. More precisely,
	$\alpha_0 = (1-\zeta)^{k-1} \beta$ with $\beta \in \O$ and $1-\zeta,\beta$ coprime.
	Do some ugly calculation:
	\begin{align}
	y \tag{A}
	&= \frac{x+y-(x+\zeta y)}{1-\zeta}
	= \varepsilon_0 \alpha_0^p - \varepsilon_1 \alpha_1^p
	= \varepsilon_0 (1-\zeta)^{(k-1)p} \beta^p - \varepsilon_1 \alpha_1^p \\
	y \tag{B}
	&= \frac{\left( x+ \zeta^{-1}y\right) - (x+y)}{\zeta^{-1}(1-\zeta)}
	= \zeta \varepsilon_{-1} \alpha_{-1}^p - \zeta \varepsilon_0 \alpha_0^p
	= \zeta \varepsilon_{-1} \alpha_{-1}^p - \zeta \varepsilon_0  (1-\zeta)^{(k-1)p} \beta^p
	\end{align}
	Then (B) $-$ (A) yields
	\begin{align*}
	0
	= \zeta \varepsilon_{-1} \alpha_{-1}^p +  \varepsilon_{1} \alpha_{1}^p
		+ \varepsilon_{0} (1-\zeta) ^{p(k-1)} \beta^p (-\zeta -1).
	\end{align*}
	Now define
	\[ \varepsilon' = \frac{(1+\zeta) \varepsilon_0}{-\varepsilon_1}
	\qquad \text{and} \qquad
	\eta = \frac{\zeta\varepsilon_{-1}}{-\varepsilon_1}
	\]
	to obtain 
	\begin{align} \tag{$**$}
	\varepsilon'  (1-\zeta) ^{p(k-1)} \beta^p = \eta \alpha_{-1}^p - \alpha_1^p.
	\end{align}
	
	\bigskip \textbf{\enquote{Step 5:}}
	Show that $\eta$ is a $p$-th power.
	
	By ($**$) we have $0\equiv\eta \alpha_{-1}^p - \alpha_1^p \mod p$ such that
	Example 1.2.8 ascertains the existence of $a_{-1}, a_1 \in \Z$ with
	$a_{-1}^p\equiv a_1, \alpha_1^p \equiv a_1 \mod p$.
	
	\bigskip \textbf{\enquote{Step 6:}} Find a smaller solution to $(\star)$:\\
	\[x':= \alpha_{-1}, y':=v\eta_1, z_0:=\beta.\]
	With $(\star\star): \varepsilon'(1-\zeta)^{p(k-1)} \cdot z_0^p=y'^p+x'^p$ is a smaller solution, a contradiction.
\end{proof}






























